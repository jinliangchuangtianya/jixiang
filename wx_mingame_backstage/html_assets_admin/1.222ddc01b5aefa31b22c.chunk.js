webpackJsonp([1],{48:function(t,e,r){r(61);var o=r(18)(r(59),r(70),"data-v-17ebd7b1",null);o.options.__file="D:\\phpStudy\\WWW\\jx\\work\\jx_game\\src\\views\\public\\banner-set.vue",o.esModule&&Object.keys(o.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] banner-set.vue: functional components are not supported with templates, they should use render functions."),t.exports=o.exports},50:function(t,e,r){"use strict";var o=String.prototype.replace,n=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return o.call(t,n,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},51:function(t,e,r){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=Object.prototype.hasOwnProperty,i=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();e.arrayToObject=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},o=0;o<t.length;++o)void 0!==t[o]&&(r[o]=t[o]);return r},e.merge=function(t,r,i){if(!r)return t;if("object"!==(void 0===r?"undefined":o(r))){if(Array.isArray(t))t.push(r);else{if("object"!==(void 0===t?"undefined":o(t)))return[t,r];(i.plainObjects||i.allowPrototypes||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if("object"!==(void 0===t?"undefined":o(t)))return[t].concat(r);var a=t;return Array.isArray(t)&&!Array.isArray(r)&&(a=e.arrayToObject(t,i)),Array.isArray(t)&&Array.isArray(r)?(r.forEach(function(r,a){n.call(t,a)?t[a]&&"object"===o(t[a])?t[a]=e.merge(t[a],r,i):t.push(r):t[a]=r}),t):Object.keys(r).reduce(function(t,o){var n=r[o];return Object.prototype.hasOwnProperty.call(t,o)?t[o]=e.merge(t[o],n,i):t[o]=n,t},a)},e.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},e.encode=function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),r="",o=0;o<e.length;++o){var n=e.charCodeAt(o);45===n||46===n||95===n||126===n||n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122?r+=e.charAt(o):n<128?r+=i[n]:n<2048?r+=i[192|n>>6]+i[128|63&n]:n<55296||n>=57344?r+=i[224|n>>12]+i[128|n>>6&63]+i[128|63&n]:(o+=1,n=65536+((1023&n)<<10|1023&e.charCodeAt(o)),r+=i[240|n>>18]+i[128|n>>12&63]+i[128|n>>6&63]+i[128|63&n])}return r},e.compact=function(t,r){if("object"!==(void 0===t?"undefined":o(t))||null===t)return t;var n=r||[],i=n.indexOf(t);if(-1!==i)return n[i];if(n.push(t),Array.isArray(t)){for(var a=[],s=0;s<t.length;++s)t[s]&&"object"===o(t[s])?a.push(e.compact(t[s],n)):void 0!==t[s]&&a.push(t[s]);return a}return Object.keys(t).forEach(function(r){t[r]=e.compact(t[r],n)}),t},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isBuffer=function(t){return null!==t&&void 0!==t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}},52:function(t,e,r){"use strict";var o=r(54),n=r(53),i=r(50);t.exports={formats:i,parse:n,stringify:o}},53:function(t,e,r){"use strict";var o=r(51),n=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:o.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(t,e){for(var r={},o=t.split(e.delimiter,e.parameterLimit===1/0?void 0:e.parameterLimit),i=0;i<o.length;++i){var a,s,l=o[i],u=-1===l.indexOf("]=")?l.indexOf("="):l.indexOf("]=")+1;-1===u?(a=e.decoder(l),s=e.strictNullHandling?null:""):(a=e.decoder(l.slice(0,u)),s=e.decoder(l.slice(u+1))),n.call(r,a)?r[a]=[].concat(r[a]).concat(s):r[a]=s}return r},s=function(t,e,r){if(!t.length)return e;var o,n=t.shift();if("[]"===n)o=[],o=o.concat(s(t,e,r));else{o=r.plainObjects?Object.create(null):{};var i="["===n.charAt(0)&&"]"===n.charAt(n.length-1)?n.slice(1,-1):n,a=parseInt(i,10);!isNaN(a)&&n!==i&&String(a)===i&&a>=0&&r.parseArrays&&a<=r.arrayLimit?(o=[],o[a]=s(t,e,r)):o[i]=s(t,e,r)}return o},l=function(t,e,r){if(t){var o=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,i=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=i.exec(o),u=l?o.slice(0,l.index):o,c=[];if(u){if(!r.plainObjects&&n.call(Object.prototype,u)&&!r.allowPrototypes)return;c.push(u)}for(var f=0;null!==(l=a.exec(o))&&f<r.depth;){if(f+=1,!r.plainObjects&&n.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(l[1])}return l&&c.push("["+o.slice(l.index)+"]"),s(c,e,r)}};t.exports=function(t,e){var r=e||{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.delimiter="string"==typeof r.delimiter||o.isRegExp(r.delimiter)?r.delimiter:i.delimiter,r.depth="number"==typeof r.depth?r.depth:i.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:i.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:i.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:i.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:i.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:i.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:i.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:i.strictNullHandling,""===t||null===t||void 0===t)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof t?a(t,r):t,s=r.plainObjects?Object.create(null):{},u=Object.keys(n),c=0;c<u.length;++c){var f=u[c],d=l(f,n[f],r);s=o.merge(s,d,r)}return o.compact(s)}},54:function(t,e,r){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=r(51),i=r(50),a={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},s=Date.prototype.toISOString,l={delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,serializeDate:function(t){return s.call(t)},skipNulls:!1,strictNullHandling:!1},u=function t(e,r,o,i,a,s,l,u,c,f,d,p){var m=e;if("function"==typeof l)m=l(r,m);else if(m instanceof Date)m=f(m);else if(null===m){if(i)return s&&!p?s(r):r;m=""}if("string"==typeof m||"number"==typeof m||"boolean"==typeof m||n.isBuffer(m)){if(s){return[d(p?r:s(r))+"="+d(s(m))]}return[d(r)+"="+d(String(m))]}var h=[];if(void 0===m)return h;var y;if(Array.isArray(l))y=l;else{var g=Object.keys(m);y=u?g.sort(u):g}for(var v=0;v<y.length;++v){var b=y[v];a&&null===m[b]||(h=Array.isArray(m)?h.concat(t(m[b],o(r,b),o,i,a,s,l,u,c,f,d,p)):h.concat(t(m[b],r+(c?"."+b:"["+b+"]"),o,i,a,s,l,u,c,f,d,p)))}return h};t.exports=function(t,e){var r=t,n=e||{};if(null!==n.encoder&&void 0!==n.encoder&&"function"!=typeof n.encoder)throw new TypeError("Encoder has to be a function.");var s=void 0===n.delimiter?l.delimiter:n.delimiter,c="boolean"==typeof n.strictNullHandling?n.strictNullHandling:l.strictNullHandling,f="boolean"==typeof n.skipNulls?n.skipNulls:l.skipNulls,d="boolean"==typeof n.encode?n.encode:l.encode,p="function"==typeof n.encoder?n.encoder:l.encoder,m="function"==typeof n.sort?n.sort:null,h=void 0!==n.allowDots&&n.allowDots,y="function"==typeof n.serializeDate?n.serializeDate:l.serializeDate,g="boolean"==typeof n.encodeValuesOnly?n.encodeValuesOnly:l.encodeValuesOnly;if(void 0===n.format)n.format=i.default;else if(!Object.prototype.hasOwnProperty.call(i.formatters,n.format))throw new TypeError("Unknown format option provided.");var v,b,j=i.formatters[n.format];"function"==typeof n.filter?(b=n.filter,r=b("",r)):Array.isArray(n.filter)&&(b=n.filter,v=b);var w=[];if("object"!==(void 0===r?"undefined":o(r))||null===r)return"";var O;O=n.arrayFormat in a?n.arrayFormat:"indices"in n?n.indices?"indices":"repeat":"indices";var C=a[O];v||(v=Object.keys(r)),m&&v.sort(m);for(var D=0;D<v.length;++D){var x=v[D];f&&null===r[x]||(w=w.concat(u(r[x],x,C,c,f,d?p:null,b,m,h,y,j,g)))}return w.join(s)}},55:function(t,e,r){"use strict";r.d(e,"f",function(){return u}),r.d(e,"g",function(){return c}),r.d(e,"i",function(){return f}),r.d(e,"h",function(){return d}),r.d(e,"a",function(){return p}),r.d(e,"j",function(){return m}),r.d(e,"k",function(){return h}),r.d(e,"e",function(){return y}),r.d(e,"d",function(){return g}),r.d(e,"c",function(){return v}),r.d(e,"b",function(){return b});var o=r(6),n=r.n(o),i=r(7),a=r(19),s=r(52),l=n.a.create({baseURL:"/admin",transformRequest:[function(t){return t&&t.get?t:s.stringify(t)}],transformResponse:[function(t){var e={};return t=JSON.parse(t),e.status=t.status,e.msg=t.msg,e.list=t.list,2==e.status?(localStorage.clear(),a.vm.$Notice.warning({title:"请重新登录",duration:3,onClose:function(){a.router.push({path:"/login"})}})):t.data&&t.data.token&&(i.a.$setStorage("realname",t.data.realname),i.a.$setStorage("token",t.data.token)),e}]});l.interceptors.request.use(function(t){var e=i.a.$getStorage("token");return e&&(t.headers.token=e),t});var u=function(){return l.get("query/all")},c=function(t){return l.post("insert",t)},f=function(t){return l.post("delete",t)},d=function(t){return l.post("modify",t)},p=function(t){return l.post("login",t)},m=function(t){return l.post("query/fuzzy",t)},h=function(){return l.get("exit")},y=function(t){return l.post("banner/insert",t)},g=function(t){return l.post("banner/modify",t)},v=function(t){return l.post("banner/delete",t)},b=function(){return l.get("banner/query")}},59:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(55);e.default={name:"banner-set",data:function(){var t=this;return{columns:[{title:"图片名称",key:"name",render:function(t,e){return t("div",[t("Icon",{props:{type:"person"}}),t("strong",e.row.name)])}},{title:"图片",key:"ossurl",render:function(t,e){return t("img",{attrs:{src:e.row.ossurl},style:{width:"100%",height:"auto",margin:"5px 0","vertical-align":"middle"}})}},{title:"链接地址",key:"jumpurl"},{title:"添加/修改时间",key:"time"},{title:"排序",key:"sort"},{title:"设置",key:"set",width:150,align:"center",render:function(e,r){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.show(r.index)}}},"修改"),e("Button",{props:{type:"error",size:"small"},on:{click:function(){t.remove(r.row.id)}}},"删除")])}}],data:[],modal:!1,name:"banner-set",modalTile:"",changeTitle:"",loading:!1,formCustom:{},showIndex:0,formData:null}},created:function(){var t=this;this.loading=!0,r.i(o.b)().then(function(e){t.loading=!1;var r=e.data,o=r.status,n=r.list;0==o?t.data=null==n?[]:n:t.$Message.error(o+" 数据请求失败！")})},methods:{add:function(){this.formCustom={name:"",ossurl:r(67),jumpurl:"",sort:""},this.modalTile="添加轮播图",this.changeTitle="add",this.modal=!0},show:function(t){this.changeTitle="change",this.showIndex=t,this.formCustom=Object.assign({},this.data[t]),this.modalTile="修改轮播图",this.modal=!0},remove:function(t){var e=this,n=this;this.$Modal.confirm({title:"确定删除本条数据吗？",onOk:function(){var e=this;n.loading=!0,r.i(o.c)({id:t}).then(function(t){n.loading=!1;var r=t.data,o=r.status,i=r.list;0==o?(n.data=null==i?[]:i,n.formCustom={},n.formData=null,e.$Notice.success({title:"成功",desc:"数据删除成功！"})):e.$Notice.error({title:"错误",desc:"数据删除失败！"})})},onCancel:function(){e.$Notice.warning({title:"提示！",desc:"取消操作"})}})},handleSubmit:function(t){},modalok:function(){this.changeData(this.changeTitle)},changeData:function(t){var e=!1;for(var r in this.formCustom)if("name"==r||"jumpurl"==r||"sort"==r){if(""==this.formCustom[r])return void this.$Message.warning(this.getTitle(r));if("sort"==r){var o=/^([1-9]\d*|0)(\.\d*[1-9])?$/;if("0"!==this.formCustom[r]&&!o.test(this.formCustom[r]))return this.$Message.warning("请输入有效数字"),!1}}else if("ossurl"==r&&"add"==t&&null==this.formData)return void this.$Message.warning(this.getTitle(r));if("change"==t){for(var r in this.formCustom)if(this.formCustom[r]!=this.data[this.showIndex][r]){e=!0;break}if(!e)return void this.$Message.warning("您未作任何的修改");this.changeList()}else this.addList();this.loading=!0,this.modal=!1},getTitle:function(t){switch(t){case"name":return"游戏名称不能为空";case"jumpurl":return"游戏地址不能为空";case"ossurl":return"请上传图片";case"sort":return"排序不能为空"}},modalcancel:function(){this.modal=!1,this.formCustom={},this.formData=null},handleBeforeUpload:function(t){return"image"!=t.type.split("/")[0]?void this.$Message.warning("请上传图片类型"):(this.getFile(t),!1)},getFile:function(t){var e=this;this.formData=new FormData,this.formData.append("image",t);var r=new FileReader;r.addEventListener("load",function(){console.log(r),e.formCustom.ossurl=r.result},!1),r.readAsDataURL(t)},changeList:function(){var t=this;null==this.formData?(this.formData=new FormData,this.formData.append("image",""),this.formData.append("isup",0)):this.formData.append("isup",1),this.formData.append("name",this.formCustom.name),this.formData.append("id",this.formCustom.id),this.formData.append("jumpurl",this.formCustom.jumpurl),this.formData.append("sort",this.formCustom.sort),r.i(o.d)(this.formData).then(function(e){t.loading=!1;var r=e.data,o=r.status,n=r.list;0==o?(t.data=n,t.formCustom={},t.formData=null,t.$Notice.success({title:"成功",desc:"数据修改成功！"})):t.$Notice.error({title:"错误",desc:"数据修改失败！"})})},addList:function(){var t=this;this.formData.append("name",this.formCustom.name),this.formData.append("jumpurl",this.formCustom.jumpurl),this.formData.append("sort",this.formCustom.sort),r.i(o.e)(this.formData).then(function(e){t.loading=!1;var r=e.data,o=r.status,n=r.list;0==o?(t.data=n,t.formCustom={},t.formData=null,t.$Notice.success({title:"成功",desc:"数据添加成功！"})):t.$Notice.error({title:"错误",desc:"数据添加失败！"})})}}}},61:function(t,e){},67:function(t,e,r){t.exports=r.p+"4cfdc9b4531dc9a5a884132ae3a78444.jpg"},70:function(t,e,r){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"banner-set",staticStyle:{width:"100%"}},[r("Table",{attrs:{loading:t.loading,border:"",columns:t.columns,data:t.data}}),t._v(" "),t.loading?t._e():r("Button",{staticClass:"addBtn",attrs:{long:"",icon:"ios-add"},on:{click:t.add}},[t._v("添加")]),t._v(" "),r("Modal",{attrs:{closable:!1,"mask-closable":!1,title:t.modalTile},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[r("Form",{attrs:{"label-width":80}},[r("FormItem",{attrs:{label:"图片名称"}},[r("Input",{attrs:{type:"text"},model:{value:t.formCustom.name,callback:function(e){t.$set(t.formCustom,"name","string"==typeof e?e.trim():e)},expression:"formCustom.name"}})],1),t._v(" "),r("FormItem",{attrs:{label:"图片"}},[r("div",{staticClass:"upload-list"},[r("img",{attrs:{src:t.formCustom.ossurl}})]),t._v(" "),r("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{type:"drag","show-upload-list":!1,format:["jpg","jpeg","png"],"before-upload":t.handleBeforeUpload,action:"//jsonplaceholder.typicode.com/posts/"}},[r("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[r("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)])],1),t._v(" "),r("FormItem",{attrs:{label:"链接地址"}},[r("Input",{attrs:{type:"text"},model:{value:t.formCustom.jumpurl,callback:function(e){t.$set(t.formCustom,"jumpurl","string"==typeof e?e.trim():e)},expression:"formCustom.jumpurl"}})],1),t._v(" "),r("FormItem",{attrs:{label:"排序"}},[r("Input",{attrs:{type:"text"},model:{value:t.formCustom.sort,callback:function(e){t.$set(t.formCustom,"sort","string"==typeof e?e.trim():e)},expression:"formCustom.sort"}})],1)],1),t._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{attrs:{type:"text",size:"large"},on:{click:t.modalcancel}},[t._v("取消")]),t._v(" "),r("Button",{attrs:{type:"primary",size:"large"},on:{click:t.modalok}},[t._v("确定")])],1)],1)],1)},staticRenderFns:[]},t.exports.render._withStripped=!0}});