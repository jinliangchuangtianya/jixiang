webpackJsonp([0],{49:function(t,e,n){n(64);var r=n(18)(n(60),n(73),"data-v-a1610424",null);r.options.__file="D:\\phpStudy\\WWW\\jx\\work\\jx_game\\src\\views\\public\\public-set.vue",r.esModule&&Object.keys(r.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] public-set.vue: functional components are not supported with templates, they should use render functions."),t.exports=r.exports},50:function(t,e,n){"use strict";var r=String.prototype.replace,a=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return r.call(t,a,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},51:function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=Object.prototype.hasOwnProperty,i=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();e.arrayToObject=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n},e.merge=function(t,n,i){if(!n)return t;if("object"!==(void 0===n?"undefined":r(n))){if(Array.isArray(t))t.push(n);else{if("object"!==(void 0===t?"undefined":r(t)))return[t,n];(i.plainObjects||i.allowPrototypes||!a.call(Object.prototype,n))&&(t[n]=!0)}return t}if("object"!==(void 0===t?"undefined":r(t)))return[t].concat(n);var o=t;return Array.isArray(t)&&!Array.isArray(n)&&(o=e.arrayToObject(t,i)),Array.isArray(t)&&Array.isArray(n)?(n.forEach(function(n,o){a.call(t,o)?t[o]&&"object"===r(t[o])?t[o]=e.merge(t[o],n,i):t.push(n):t[o]=n}),t):Object.keys(n).reduce(function(t,r){var a=n[r];return Object.prototype.hasOwnProperty.call(t,r)?t[r]=e.merge(t[r],a,i):t[r]=a,t},o)},e.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},e.encode=function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),n="",r=0;r<e.length;++r){var a=e.charCodeAt(r);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?n+=e.charAt(r):a<128?n+=i[a]:a<2048?n+=i[192|a>>6]+i[128|63&a]:a<55296||a>=57344?n+=i[224|a>>12]+i[128|a>>6&63]+i[128|63&a]:(r+=1,a=65536+((1023&a)<<10|1023&e.charCodeAt(r)),n+=i[240|a>>18]+i[128|a>>12&63]+i[128|a>>6&63]+i[128|63&a])}return n},e.compact=function(t,n){if("object"!==(void 0===t?"undefined":r(t))||null===t)return t;var a=n||[],i=a.indexOf(t);if(-1!==i)return a[i];if(a.push(t),Array.isArray(t)){for(var o=[],s=0;s<t.length;++s)t[s]&&"object"===r(t[s])?o.push(e.compact(t[s],a)):void 0!==t[s]&&o.push(t[s]);return o}return Object.keys(t).forEach(function(n){t[n]=e.compact(t[n],a)}),t},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isBuffer=function(t){return null!==t&&void 0!==t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}},52:function(t,e,n){"use strict";var r=n(54),a=n(53),i=n(50);t.exports={formats:i,parse:a,stringify:r}},53:function(t,e,n){"use strict";var r=n(51),a=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:r.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},o=function(t,e){for(var n={},r=t.split(e.delimiter,e.parameterLimit===1/0?void 0:e.parameterLimit),i=0;i<r.length;++i){var o,s,c=r[i],l=-1===c.indexOf("]=")?c.indexOf("="):c.indexOf("]=")+1;-1===l?(o=e.decoder(c),s=e.strictNullHandling?null:""):(o=e.decoder(c.slice(0,l)),s=e.decoder(c.slice(l+1))),a.call(n,o)?n[o]=[].concat(n[o]).concat(s):n[o]=s}return n},s=function(t,e,n){if(!t.length)return e;var r,a=t.shift();if("[]"===a)r=[],r=r.concat(s(t,e,n));else{r=n.plainObjects?Object.create(null):{};var i="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,o=parseInt(i,10);!isNaN(o)&&a!==i&&String(o)===i&&o>=0&&n.parseArrays&&o<=n.arrayLimit?(r=[],r[o]=s(t,e,n)):r[i]=s(t,e,n)}return r},c=function(t,e,n){if(t){var r=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,i=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,c=i.exec(r),l=c?r.slice(0,c.index):r,u=[];if(l){if(!n.plainObjects&&a.call(Object.prototype,l)&&!n.allowPrototypes)return;u.push(l)}for(var d=0;null!==(c=o.exec(r))&&d<n.depth;){if(d+=1,!n.plainObjects&&a.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(c[1])}return c&&u.push("["+r.slice(c.index)+"]"),s(u,e,n)}};t.exports=function(t,e){var n=e||{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.delimiter="string"==typeof n.delimiter||r.isRegExp(n.delimiter)?n.delimiter:i.delimiter,n.depth="number"==typeof n.depth?n.depth:i.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:i.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"==typeof n.decoder?n.decoder:i.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:i.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:i.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:i.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:i.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:i.strictNullHandling,""===t||null===t||void 0===t)return n.plainObjects?Object.create(null):{};for(var a="string"==typeof t?o(t,n):t,s=n.plainObjects?Object.create(null):{},l=Object.keys(a),u=0;u<l.length;++u){var d=l[u],f=c(d,a[d],n);s=r.merge(s,f,n)}return r.compact(s)}},54:function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(51),i=n(50),o={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},s=Date.prototype.toISOString,c={delimiter:"&",encode:!0,encoder:a.encode,encodeValuesOnly:!1,serializeDate:function(t){return s.call(t)},skipNulls:!1,strictNullHandling:!1},l=function t(e,n,r,i,o,s,c,l,u,d,f,p){var h=e;if("function"==typeof c)h=c(n,h);else if(h instanceof Date)h=d(h);else if(null===h){if(i)return s&&!p?s(n):n;h=""}if("string"==typeof h||"number"==typeof h||"boolean"==typeof h||a.isBuffer(h)){if(s){return[f(p?n:s(n))+"="+f(s(h))]}return[f(n)+"="+f(String(h))]}var g=[];if(void 0===h)return g;var m;if(Array.isArray(c))m=c;else{var y=Object.keys(h);m=l?y.sort(l):y}for(var v=0;v<m.length;++v){var b=m[v];o&&null===h[b]||(g=Array.isArray(h)?g.concat(t(h[b],r(n,b),r,i,o,s,c,l,u,d,f,p)):g.concat(t(h[b],n+(u?"."+b:"["+b+"]"),r,i,o,s,c,l,u,d,f,p)))}return g};t.exports=function(t,e){var n=t,a=e||{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var s=void 0===a.delimiter?c.delimiter:a.delimiter,u="boolean"==typeof a.strictNullHandling?a.strictNullHandling:c.strictNullHandling,d="boolean"==typeof a.skipNulls?a.skipNulls:c.skipNulls,f="boolean"==typeof a.encode?a.encode:c.encode,p="function"==typeof a.encoder?a.encoder:c.encoder,h="function"==typeof a.sort?a.sort:null,g=void 0!==a.allowDots&&a.allowDots,m="function"==typeof a.serializeDate?a.serializeDate:c.serializeDate,y="boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:c.encodeValuesOnly;if(void 0===a.format)a.format=i.default;else if(!Object.prototype.hasOwnProperty.call(i.formatters,a.format))throw new TypeError("Unknown format option provided.");var v,b,D=i.formatters[a.format];"function"==typeof a.filter?(b=a.filter,n=b("",n)):Array.isArray(a.filter)&&(b=a.filter,v=b);var w=[];if("object"!==(void 0===n?"undefined":r(n))||null===n)return"";var L;L=a.arrayFormat in o?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var O=o[L];v||(v=Object.keys(n)),h&&v.sort(h);for(var j=0;j<v.length;++j){var x=v[j];d&&null===n[x]||(w=w.concat(l(n[x],x,O,u,d,f?p:null,b,h,g,m,D,y)))}return w.join(s)}},55:function(t,e,n){"use strict";n.d(e,"f",function(){return l}),n.d(e,"g",function(){return u}),n.d(e,"i",function(){return d}),n.d(e,"h",function(){return f}),n.d(e,"a",function(){return p}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return g}),n.d(e,"e",function(){return m}),n.d(e,"d",function(){return y}),n.d(e,"c",function(){return v}),n.d(e,"b",function(){return b});var r=n(6),a=n.n(r),i=n(7),o=n(19),s=n(52),c=a.a.create({baseURL:"/admin",transformRequest:[function(t){return t&&t.get?t:s.stringify(t)}],transformResponse:[function(t){var e={};return t=JSON.parse(t),e.status=t.status,e.msg=t.msg,e.list=t.list,2==e.status?(localStorage.clear(),o.vm.$Notice.warning({title:"请重新登录",duration:3,onClose:function(){o.router.push({path:"/login"})}})):t.data&&t.data.token&&(i.a.$setStorage("realname",t.data.realname),i.a.$setStorage("token",t.data.token)),e}]});c.interceptors.request.use(function(t){var e=i.a.$getStorage("token");return e&&(t.headers.token=e),t});var l=function(){return c.get("query/all")},u=function(t){return c.post("insert",t)},d=function(t){return c.post("delete",t)},f=function(t){return c.post("modify",t)},p=function(t){return c.post("login",t)},h=function(t){return c.post("query/fuzzy",t)},g=function(){return c.get("exit")},m=function(t){return c.post("banner/insert",t)},y=function(t){return c.post("banner/modify",t)},v=function(t){return c.post("banner/delete",t)},b=function(){return c.get("banner/query")}},60:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(55);e.default={data:function(){var t=this;return{columns:[{title:"游戏名称",key:"name",render:function(t,e){return t("div",[t("strong",e.row.name)])}},{title:"游戏图标",key:"icon",render:function(t,e){return t("img",{attrs:{src:e.row.icon},style:{width:"50px",height:"50px","vertical-align":"middle"}})}},{title:"游戏描述",key:"description"},{title:"游戏地址",key:"url"},{title:"添加/修改时间",key:"time"},{title:"排序",key:"sort"},{title:"操作",key:"set",width:150,align:"center",render:function(e,n){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.show(n.row.id)}}},"修改"),e("Button",{props:{type:"error",size:"small"},on:{click:function(){t.remove(n.row.id)}}},"删除")])}}],dataList:[],changeData:{},addData:{name:"",icon:n(68),description:"",url:"",sort:"0"},pageSize:10,indexPage:1,loading:!0,picPreview:"",formData:null,searchName:""}},mounted:function(){var t=this;n.i(r.f)().then(function(e){var n=e.data,r=n.status,a=n.list;0==r?t.dataList=null==a?[]:a:t.$Message.error(r+" 数据请求失败！"),t.loading=!1})},computed:{total:function(){return this.dataList.length},showPage:function(){return!(!this.dataList.length||this.dataList.length<=this.pageSize)},showList:function(){var t=this.indexPage-1<=0?0:this.indexPage-1,e=t*this.pageSize;return this.dataList[e]||(this.indexPage-=1,e=(this.indexPage-1)*this.pageSize),this.dataList.slice(e,e+this.pageSize)}},methods:{show:function(t){var e=this.dataList.findIndex(function(e){return e.id==t}),n=this.showList.filter(function(e){return e.id==t})[0];this.changeData=Object.assign({},n),this.picPreview=this.changeData.icon,this.ModalShow(e,t)},ModalShow:function(t,e){var n,r=this,a=this;"add"==t?(n="添加游戏",this.changeData=Object.assign({},this.addData),this.picPreview=this.changeData.icon):n="修改游戏信息",this.$Modal.confirm({render:function(t){return t("div",[t("div",{style:{padding:"5px 0"}},[t("span",{domProps:{innerHTML:"游戏名称"},attrs:{class:"moaleLable"}}),t("Input",{attrs:{value:r.changeData.name},style:{width:"484px"},on:{input:function(t){r.changeData.name=t.trim()}}})]),t("div",{style:{padding:"5px 0"}},[t("span",{domProps:{innerHTML:"游戏图标"},attrs:{class:"moaleLable"}}),t("img",{attrs:{src:r.picPreview},style:{width:"50px",height:"50px","vertical-align":"middle"}}),t("span",{attrs:{class:"fileUpLoad"}},[t("input",{attrs:{type:"file"},on:{change:function(t){"image"!=t.target.files[0].type.split("/")[0]?r.$Message.warning("请上传图片类型"):r.getFile(t)}}})])]),t("div",{style:{padding:"5px 0"}},[t("span",{domProps:{innerHTML:"游戏描述"},attrs:{class:"moaleLable"}}),t("Input",{attrs:{value:r.changeData.description},style:{width:"484px"},on:{input:function(t){r.changeData.description=t.trim()}}})]),t("div",{style:{padding:"5px 0"}},[t("span",{domProps:{innerHTML:"游戏地址 :"},attrs:{class:"moaleLable"}}),t("Input",{attrs:{value:r.changeData.url,id:"file"},style:{width:"484px"},on:{input:function(t){r.changeData.url=t.trim()}}})]),t("div",{style:{padding:"5px 0"}},[t("span",{domProps:{innerHTML:"排序"},attrs:{class:"moaleLable"}}),t("Input",{attrs:{value:r.changeData.sort},style:{width:"484px"},on:{input:function(t){r.changeData.sort=t.trim()}}})])])},width:"600px",title:n,loading:!0,onOk:function(){a.changeListHandler(this,t,e)},onCancel:function(){r.changeData={},r.formData=null,r.$Notice.warning({title:"提示！",desc:"取消操作"})}})},remove:function(t){var e=this,n=this;this.$Modal.confirm({loading:!0,title:"确定删除本条数据吗？",onOk:function(){n.delDataList(t,this)},onCancel:function(){e.$Notice.warning({title:"提示！",desc:"取消操作"})}})},changePageHandler:function(t){this.indexPage=t},getFile:function(t){var e=this,n=t.target,r=n.files[0];this.formData=new FormData,this.formData.append("icon",r);var a=new FileReader;a.addEventListener("load",function(){e.picPreview=a.result},!1),a.readAsDataURL(r)},changeListHandler:function(t,e,n){var r=!0;for(var a in this.changeData)if("icon"==a&&"add"==e)try{if(this.formData.get("icon")){r=!1;continue}}catch(e){return t.buttonLoading=!1,this.$Message.warning(this.getTitle(a)),!1}else{if(""==this.changeData[a])return t.buttonLoading=!1,this.$Message.warning(this.getTitle(a)),!1;if("sort"==a){var i=/^([1-9]\d*|0)(\.\d*[1-9])?$/;if("0"!==this.changeData[a]&&!i.test(this.changeData[a]))return t.buttonLoading=!1,this.$Message.warning("请输入有效数字"),!1}}if("add"!=e)try{this.formData.get("icon")&&(r=!1)}catch(t){for(var a in this.changeData)if(this.changeData[a]!=this.dataList[e][a]){r=!1;break}}if(r)return this.$Message.warning("您未作任何修改"),t.buttonLoading=!1,!1;this.changeDataList(e,n)},getTitle:function(t){switch(t){case"name":return"游戏名称不能为空";case"description":return"游戏描述不能为空";case"url":return"游戏地址不能为空";case"icon":return"请上传图片";case"sort":return"排序不能为空"}},changeDataList:function(t,e){var a=this;this.$Modal.remove(),this.loading=!0;var i=void 0;"add"==t?(this.formData.append("name",this.changeData.name),this.formData.append("description",this.changeData.description),this.formData.append("url",this.changeData.url),this.formData.append("sort",this.changeData.sort),n.i(r.g)(this.formData).then(function(t){i="添加",a.upDataHandler(t,i)})):(null==this.formData?(this.formData=new FormData,this.formData.append("icon",""),this.formData.append("isup",0)):this.formData.append("isup",1),this.formData.append("name",this.changeData.name),this.formData.append("description",this.changeData.description),this.formData.append("url",this.changeData.url),this.formData.append("id",e),this.formData.append("sort",this.changeData.sort),n.i(r.h)(this.formData).then(function(t){i="修改",a.upDataHandler(t,i)}))},delDataList:function(t){var e=this;this.loading=!0,this.$Modal.remove(),n.i(r.i)({id:t}).then(function(t){var n=t.data,r=n.status,a=n.list;0==r?(e.dataList=null==a?[]:a,e.$Notice.success({title:"成功！",desc:"数据删除成功!"})):e.$Notice.error({title:"错误",desc:"数据删除成功!"}),e.loading=!1})},upDataHandler:function(t,e){var n=t.data,r=n.status,a=n.list;0==r?(this.dataList=a,this.changeData={},this.formData=null,this.$Notice.success({title:"成功",desc:"数据"+e+"成功！"})):this.$Notice.error({title:"错误",desc:"数据"+e+"失败！"}),this.loading=!1},searchHandler:function(){var t=this;this.loading=!0,n.i(r.j)({name:this.searchName}).then(function(e){var n=e.data,r=n.status,a=n.list;0==r&&(t.dataList=null==a?[]:a),t.loading=!1})}}}},64:function(t,e){},68:function(t,e,n){t.exports=n.p+"a51496bff828ebc9f2931f85ef76018e.jpg"},73:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"public-set",staticStyle:{width:"100%"}},[n("Input",{staticClass:"search",attrs:{placeholder:"搜索游戏名称",icon:"ios-search"},on:{"on-enter":t.searchHandler,"on-click":t.searchHandler},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}}),t._v(" "),n("Table",{staticClass:"table",attrs:{loading:t.loading,border:"",columns:t.columns,data:t.showList}}),t._v(" "),t.loading?t._e():n("Button",{staticClass:"addBtn",attrs:{long:"",icon:"ios-add"},on:{click:function(e){t.ModalShow("add")}}},[t._v("添加")]),t._v(" "),t.showPage?[n("Page",{staticClass:"pageWrap",attrs:{total:t.total,"page-size":t.pageSize},on:{"on-change":t.changePageHandler}})]:t._e()],2)},staticRenderFns:[]},t.exports.render._withStripped=!0}});